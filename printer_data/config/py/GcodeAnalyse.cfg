[gcode_shell_command TEST_PY]
command: /usr/bin/python3 /home/biqu/printer_data/config/py/testMacroFromPy.py
timeout: 10
verbose: True


[gcode_shell_command ANALYZE_GCODE_SPEED]
command: /usr/bin/python3 /home/biqu/printer_data/config/py/GcodeMaxSpeddAnalyse.py
timeout: 10
verbose: True

[gcode_macro GET_MAX_SPEED_SET_TMC_MODE]
gcode:
    {% if not printer.print_stats.filename %}
        M118 ---No hay G-code seleccionado
        RETURN
    {% endif %}

    {% set GCODE_DIR = "/home/biqu/printer_data/gcodes" %}
    {% set gcode_path = GCODE_DIR ~ "/" ~ printer.print_stats.filename %}

    M118 ---Analizando: {gcode_path}

    RUN_SHELL_COMMAND CMD=ANALYZE_GCODE_SPEED PARAMS="{gcode_path}"

[gcode_macro SET_TMC_AUTOTUNE_PERFORMANCE]
gcode:
  M118 Motores en modo PERFORMANCE!
  AUTOTUNE_TMC STEPPER=stepper_x TUNING_GOAL=performance
  AUTOTUNE_TMC STEPPER=stepper_y TUNING_GOAL=performance

[gcode_macro SET_TMC_AUTOTUNE_PERFORMANCE]
gcode:
  M118 Motores en modo SILENT!
  AUTOTUNE_TMC STEPPER=stepper_x TUNING_GOAL=silent
  AUTOTUNE_TMC STEPPER=stepper_y TUNING_GOAL=silent

